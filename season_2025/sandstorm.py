# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":150,"y":100,"deletable":false,"next":{"block":{"type":"variables_setup_imported_function","id":"TD.Ztxa375Yq-g|Z7ql1","fields":{"FROM_MODULE":{"id":"xF*y`)L]SY~nJ]9!hh1o"},"VAR":{"id":"_S~K5{l{t8et?+SAo|qp"}},"next":{"block":{"type":"variables_set_prime_hub","id":"Gd+,iO@3Z%zUz%v@lal)","extraState":{"optionLevel":1},"fields":{"VAR":{"id":"#U()w*6zp[lSGng8-zbX"}},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"%3mCq5c^uhhYIoWG%}UU","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"LPe]P|g7@b0Q[3i{Om_A","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"B0,W`x7_M)#%=SlsaSi8","fields":{"VAR":{"id":"d6t@2/p]qc+*/}1l4sy@"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"XrJ`=E}esl^cih@4)F4/","fields":{"NAME":"F"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"$yNO}l!cGlTSlFHOgkSx","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"m{_on@!1|;-.,]15vH{]","fields":{"VAR":{"id":"LTE):GmNahXerrX7]AsB"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":";PbV|!/KG?3$KS|n0%T:","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"_uPC=}W{cR-#rf1d)`+u","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":")XF3zUC1z1k%5#z@gwP/","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"nEB:cnV=h^3{`?YQBag=","fields":{"VAR":{"id":"d6t@2/p]qc+*/}1l4sy@","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"AGc|,{^EzGe4THLH|;}$","fields":{"VAR":{"id":"LTE):GmNahXerrX7]AsB","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"$t%$}^K[{9Yo!]gY6*0z","fields":{"VALUE0":62.4}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"m=d]q~Gr^unfuZ(zCA`n","fields":{"VALUE0":110}}}},"next":{"block":{"type":"variables_set_motor","id":"VzV7amw.+=6yR^^3%,@l","fields":{"VAR":{"id":"m]UM5^*R}VCVyFY=r)+L"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"F`AqG7#6o{*f+,nmT;w,","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"%0F!{]lRvNB)#l?m1;L1","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"3J]tp,sbUYgdQ+++#BgR","fields":{"VAR":{"id":"AYR*o|0y_@D%TQyWaE=x"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"*r^:%lCIJTr9mxBs:,Ui","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"9I{hb!!L{v=|/]CC8hFW","fields":{"SELECTION":"Direction.CLOCKWISE"}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":33,"y":546,"deletable":false,"next":{"block":{"type":"blockDriveBaseUseGyro","id":"kqMVIkZjU7sM6mQ@y_N2","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"5h0D,M#m7%O0.@@Ptm:C","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"vIp4:dVA2{ci[oSUr5+~","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"J+?a,TUr!|HTXs=0%Qa2","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"Nd)+YBpU:5m%rOCdJ9.x","fields":{"VALUE0":500}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":";K-egRSg,@*ojmOcBfBF","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"eKNoKO/i8CMOjdGJM(qp","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"PNdEX;Km8Bc:Hah$k1+E","fields":{"VALUE0":-365}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"XzGtU$l~@V^OXaT8BA(r","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockWaitTime","id":"p|kb+P9EKy*CCHqP?/XR","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"51kQ+|%cf[.KIFg6F,qp","fields":{"VALUE0":25}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":".RzsMCkTBi-)V1bnkjuG","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"+4.0|SW]/R/dnN;O^/o4","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"|nwxPUsl=nUBT_=~OJ3D","fields":{"VALUE0":150}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"}+5u~;ztzg_6q?$E.Un/","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"ufO}x;34lrp!2*V{B1T4","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"71NNYWy[usQmWkWO1e0Y","fields":{"VALUE0":160}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"(fxvoJ()|PI#yXQZjGq{","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"qq/:wymx.#!D/9^|Y]YM","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"A2){#;_2,1*6C`Xlfykt","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"=Ap(vV%#%k;OUQ#Rdwe:","fields":{"VALUE0":-49.5}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"]bjKSHDW{0~iX)Kb+Y(C","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"jumK3j?8vSd)}Lwti2bK","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"]?kng7@}98JvPtF/eJp:","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"?X{B:6,i9Rw[/SB.[cJq","fields":{"VALUE0":-196}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"^OpS~yiu37{2wlo.6ekf","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"-1SKsQJGp^eau/e#tn3g","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"e==7m8:|Mm+iCV[IW@%y","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"]KRs2it#!2:0O7Zg7$WS","fields":{"VALUE0":49.5}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"M,is*~b8XPe.ejKpSkP)","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"tx.eJS)X9u[|FrPU8i)G","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"uP%Qv-T=Q,9Wq^:H#-6P","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"u,|(!UE|6`2aQm+Gy2Hm","fields":{"VALUE0":-114.5}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"S`)[O,*.44imj7{Sf~Z~","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive2","id":"FTk90e).?Jw!UFJY0VFO","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"_$+sfkHCk}mwjaikY~h6","fields":{"VAR":{"id":"6pm0(zFti.I~Lms85x|4","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"%}ab*xC4X,bVM-RLHiv~","fields":{"VALUE0":100}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"}?uxC;kUD};X]a,ap_^i","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"SXfsGTbCnFe[IsBVw~`F","x":784,"y":181,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":":eS.QSny?7YsZB:DkeAn"}},"inputs":{"ARG0":{"shadow":{"type":"variables_setup_function_argument","id":"wOv_S;A=;^{vmrzga`a`","fields":{"VAR":{"id":"zbrZP,!#YL;#y5ucKR=J","name":"angle","type":"FunctionArgument"}}}},"STACK":{"block":{"type":"blockImportTaskCallStatement","id":"C[m`R1NS`iXhuc6,5.Jw","extraState":{"optionLevel":4},"inputs":{"VAR":{"shadow":{"type":"variables_get_imported_function","id":"FVX}=O8~Z;o3kJpKaR$l","fields":{"VAR":{"id":"_S~K5{l{t8et?+SAo|qp","name":"p_turn_incremental_sync","type":"FunctionImported"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"sunR~,*[LgEf$Emp(!I5","fields":{"NUM":0}},"block":{"type":"variables_setup_function_argumentConstant","id":"/8l{[xSmpH${rcA57wC$","fields":{"VAR":{"text":"angle"}}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"0vF0F7PJiaV0+`~+K/kk","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"h6_nLf1~;o_s#/Z/lKt{","fields":{"VAR":{"id":"d6t@2/p]qc+*/}1l4sy@"}}}},"ARG2":{"shadow":{"type":"blockMathNumber","id":"Ps)dJb=8fltkBY5X)nxS","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"0z9LS(8[y7,C%ACd:[K7","fields":{"VAR":{"id":"LTE):GmNahXerrX7]AsB"}}}},"ARG3":{"shadow":{"type":"blockMathNumber","id":"z^eG|~PA!R@fdg;MiY?b","fields":{"NUM":0}},"block":{"type":"blockreadOnlyGetter","id":"yjOhcl:WkulUs$Mav~]x","fields":{"VAR":{"id":"#U()w*6zp[lSGng8-zbX"}}}}}}}}},{"type":"blockFunctionCallerStatement","id":"H#vo^~L3s~%Xa*m-%~Y*","x":976,"y":365,"enabled":false,"extraState":{"optionLevel":1},"fields":{"ICON":"TASK","VAR":{"id":":eS.QSny?7YsZB:DkeAn"}},"inputs":{"ARG0":{"shadow":{"type":"blockMathNumber","id":"0oJ15j15fBc-LN(#n/$!","fields":{"NUM":0}}}}}]},"variables":[{"name":"red","id":"_$P(Ga9G8zT{rD)^B{3~","type":"ColorDef"},{"name":"orange","id":"!LpPEMgMlG(L6iG6ruO|","type":"ColorDef"},{"name":"yellow","id":"[nlb%9vPTf/w%O6*U?,u","type":"ColorDef"},{"name":"green","id":"Pq0ZnG}j5]S-VhMF$4Y3","type":"ColorDef"},{"name":"cyan","id":"TQmGs$NlZPgRoaA{8eQ+","type":"ColorDef"},{"name":"blue","id":")xvuwHSpxV]QQBaMp|b/","type":"ColorDef"},{"name":"violet","id":"7h.ODa=)h=VR)kSo+Dmi","type":"ColorDef"},{"name":"magenta","id":"[DZLVXr@^0t`98TM|{+Z","type":"ColorDef"},{"name":"white","id":"1/7I#IXUw{KHkkUMQC@-","type":"ColorDef"},{"name":"none","id":"#a{25LCeW;%oe(g]b;{9","type":"ColorDef"},{"name":"prime hub","id":"#U()w*6zp[lSGng8-zbX","type":"PrimeHub"},{"name":"drive base","id":"6pm0(zFti.I~Lms85x|4","type":"DriveBase"},{"name":"p_turn","id":"xF*y`)L]SY~nJ]9!hh1o","type":"ModuleImported"},{"name":"p_turn_incremental_sync","id":"_S~K5{l{t8et?+SAo|qp","type":"FunctionImported"},{"name":"p_turn_increment","id":":eS.QSny?7YsZB:DkeAn","type":"Function"},{"name":"left","id":"d6t@2/p]qc+*/}1l4sy@","type":"Motor"},{"name":"right","id":"LTE):GmNahXerrX7]AsB","type":"Motor"},{"name":"left attachment motor","id":"m]UM5^*R}VCVyFY=r)+L","type":"Motor"},{"name":"right attachment motor","id":"AYR*o|0y_@D%TQyWaE=x","type":"Motor"},{"name":"angle","id":"zbrZP,!#YL;#y5ucKR=J","type":"FunctionArgument"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Direction, Port
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import wait

from p_turn import p_turn_incremental_sync

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X)
left = Motor(Port.F, Direction.COUNTERCLOCKWISE)
right = Motor(Port.E, Direction.CLOCKWISE)
drive_base = DriveBase(left, right, 62.4, 110)
left_attachment_motor = Motor(Port.D, Direction.CLOCKWISE)
right_attachment_motor = Motor(Port.C, Direction.CLOCKWISE)

def p_turn_increment(angle):
    p_turn_incremental_sync(angle, left, right, prime_hub)


# The main program starts here.
drive_base.use_gyro(True)
drive_base.settings(straight_speed=500)
drive_base.straight(-365)
wait(25)
drive_base.settings(straight_speed=150)
drive_base.straight(160)
drive_base.turn(-49.5)
drive_base.straight(-196)
drive_base.turn(49.5)
drive_base.straight(-114.5)
drive_base.straight(100)
